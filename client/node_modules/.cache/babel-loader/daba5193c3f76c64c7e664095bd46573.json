{"ast":null,"code":"var _jsxFileName = \"/home/poncho/Documents/PROJET/moonboard-project/client/src/components/withAuth.js\";\nimport React from \"react\";\nimport { Query } from \"react-apollo\";\nimport { Redirect } from \"react-router-dom\";\nimport { GET_CURRENT_USER } from \"../queries\";\n\nvar withAuth = function withAuth(conditionFunc) {\n  return function (Component) {\n    return function (props) {\n      return React.createElement(Query, {\n        query: GET_CURRENT_USER,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 8\n        },\n        __self: this\n      }, function (_ref) {\n        var data = _ref.data,\n            loading = _ref.loading;\n        if (loading) return null;\n        return conditionFunc(data) ? React.createElement(Component, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 12\n          },\n          __self: this\n        })) : React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14\n          },\n          __self: this\n        });\n      });\n    };\n  };\n};\n\nexport default withAuth;","map":{"version":3,"sources":["/home/poncho/Documents/PROJET/moonboard-project/client/src/components/withAuth.js"],"names":["React","Query","Redirect","GET_CURRENT_USER","withAuth","conditionFunc","Component","props","data","loading"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,QAAsB,cAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,gBAAT,QAAiC,YAAjC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,aAAa;AAAA,SAAI,UAAAC,SAAS;AAAA,WAAI,UAAAC,KAAK;AAAA,aAClD,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAEJ,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,gBAAuB;AAAA,YAApBK,IAAoB,QAApBA,IAAoB;AAAA,YAAdC,OAAc,QAAdA,OAAc;AACtB,YAAIA,OAAJ,EAAa,OAAO,IAAP;AACb,eAAOJ,aAAa,CAACG,IAAD,CAAb,GACL,oBAAC,SAAD,oBAAeD,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADK,GAGL,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF;AAKD,OARH,CADkD;AAAA,KAAT;AAAA,GAAb;AAAA,CAA9B;;AAaA,eAAeH,QAAf","sourcesContent":["import React from \"react\";\n\nimport { Query } from \"react-apollo\";\nimport { Redirect } from \"react-router-dom\";\nimport { GET_CURRENT_USER } from \"../queries\";\n\nconst withAuth = conditionFunc => Component => props => (\n  <Query query={GET_CURRENT_USER}>\n    {({ data, loading }) => {\n      if (loading) return null;\n      return conditionFunc(data) ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/\" />\n      );\n    }}\n  </Query>\n);\n\nexport default withAuth;\n"]},"metadata":{},"sourceType":"module"}