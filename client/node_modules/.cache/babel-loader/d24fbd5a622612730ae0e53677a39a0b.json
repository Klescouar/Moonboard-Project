{"ast":null,"code":"import _defineProperty from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/poncho/Documents/PROJET/moonboard-project/client/src/components/Admin/AddArticle.js\";\nimport React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport { withRouter } from 'react-router-dom';\nimport { ADD_ARTICLE } from '../../queries';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport UploadImage from './UlploadImage';\n\nvar AddArticle =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddArticle, _Component);\n\n  function AddArticle(props) {\n    var _this;\n\n    _classCallCheck(this, AddArticle);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddArticle).call(this, props)); // Don't call this.setState() here!\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.getFileName = function (fileName) {\n      _this.setState({\n        image: fileName\n      });\n    };\n\n    _this.handleSubmit = function (event, addArticle) {\n      event.preventDefault();\n      addArticle();\n    };\n\n    _this.state = {\n      title: '',\n      image: '',\n      link: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddArticle, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          title = _this$state.title,\n          image = _this$state.image,\n          link = _this$state.link;\n      return React.createElement(Mutation, {\n        mutation: ADD_ARTICLE,\n        variables: {\n          title: title,\n          image: image,\n          link: link\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, function (addArticle, _ref) {\n        var data = _ref.data,\n            loading = _ref.loading,\n            error = _ref.error;\n        return React.createElement(Card, {\n          className: \"AddArticle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"AddArticle__Form\",\n          onSubmit: function onSubmit(event) {\n            return _this2.handleSubmit(event, addArticle);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          className: \"AddArticle__Form__Title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, \"ADD AN ARTICLE\"), React.createElement(TextField, {\n          id: \"standard-name\",\n          name: \"title\",\n          label: \"Article's title\",\n          className: \"AddArticle__Form__Input\",\n          value: title,\n          onChange: _this2.handleChange('title'),\n          margin: \"normal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }), React.createElement(UploadImage, {\n          name: \"image\",\n          fileName: image,\n          getFileName: _this2.getFileName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }), React.createElement(TextField, {\n          id: \"standard-name\",\n          name: \"link\",\n          label: \"Soundcloud link\",\n          className: \"AddArticle__Form__Input\",\n          value: link,\n          onChange: _this2.handleChange('link'),\n          margin: \"normal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }), React.createElement(Button, {\n          type: \"submit\",\n          onClick: _this2.submit,\n          variant: \"outlined\",\n          className: \"AddArticle__Form__Submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"Send new article\")));\n      });\n    }\n  }]);\n\n  return AddArticle;\n}(Component);\n\nexport default withRouter(AddArticle);","map":{"version":3,"sources":["/home/poncho/Documents/PROJET/moonboard-project/client/src/components/Admin/AddArticle.js"],"names":["React","Component","Mutation","withRouter","ADD_ARTICLE","TextField","Button","Card","UploadImage","AddArticle","props","handleChange","name","event","setState","target","value","getFileName","fileName","image","handleSubmit","addArticle","preventDefault","state","title","link","data","loading","error","submit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport { withRouter } from 'react-router-dom';\nimport { ADD_ARTICLE } from '../../queries';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\n\nimport UploadImage from './UlploadImage';\n\nclass AddArticle extends Component {\n  constructor(props) {\n    super(props);\n    // Don't call this.setState() here!\n    this.state = { title: '', image: '', link: '' };\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n  };\n\n  getFileName = fileName => {\n    this.setState({\n      image: fileName\n    });\n  };\n\n  handleSubmit = (event, addArticle) => {\n    event.preventDefault();\n    addArticle();\n  };\n\n  render() {\n    const { title, image, link } = this.state;\n\n    return (\n      <Mutation\n        mutation={ADD_ARTICLE}\n        variables={{\n          title,\n          image,\n          link\n        }}\n      >\n        {(addArticle, { data, loading, error }) => {\n          return (\n            <Card className=\"AddArticle\">\n              <form\n                className=\"AddArticle__Form\"\n                onSubmit={event => this.handleSubmit(event, addArticle)}\n              >\n                <p className=\"AddArticle__Form__Title\">ADD AN ARTICLE</p>\n                <TextField\n                  id=\"standard-name\"\n                  name=\"title\"\n                  label=\"Article's title\"\n                  className=\"AddArticle__Form__Input\"\n                  value={title}\n                  onChange={this.handleChange('title')}\n                  margin=\"normal\"\n                />\n                <UploadImage\n                  name=\"image\"\n                  fileName={image}\n                  getFileName={this.getFileName}\n                />\n                <TextField\n                  id=\"standard-name\"\n                  name=\"link\"\n                  label=\"Soundcloud link\"\n                  className=\"AddArticle__Form__Input\"\n                  value={link}\n                  onChange={this.handleChange('link')}\n                  margin=\"normal\"\n                />\n                <Button\n                  type=\"submit\"\n                  onClick={this.submit}\n                  variant=\"outlined\"\n                  className=\"AddArticle__Form__Submit\"\n                >\n                  Send new article\n                </Button>\n              </form>\n            </Card>\n          );\n        }}\n      </Mutation>\n    );\n  }\n}\n\nexport default withRouter(AddArticle);\n"]},"metadata":{},"sourceType":"module"}