{"ast":null,"code":"import _classCallCheck from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/poncho/Documents/PROJET/moonboard-project/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/poncho/Documents/PROJET/moonboard-project/client/src/components/Admin/RemoveArticle.js\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\nimport AddIcon from '@material-ui/icons/Add';\nimport SnackBarSuccess from '../SnackBar/SnackBarSuccess';\nimport SnackBarError from '../SnackBar/SnackBarError';\nimport DialogPopin from '../Dialog/Dialog';\nimport { Query, Mutation } from 'react-apollo';\nimport { DELETE_ARTICLE, GET_ARTICLES_BY_CHAPTER } from '../../queries';\nvar ERROR_TEXT = 'Sorry, deleting your article did not work...';\nvar SUCCESS_TEXT = 'Great, your article is now removed!';\nvar removeArticleDialog = {\n  title: 'Remove Article',\n  description: 'Are you sure you want to delete this article?',\n  error: 'Sorry, deleting your article did not work...',\n  success: 'Great, your article is now removed!'\n};\n\nvar RemoveArticle =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RemoveArticle, _Component);\n\n  function RemoveArticle() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RemoveArticle);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RemoveArticle)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      openSuccessSnackBar: false,\n      openErrorSnackBar: false,\n      openDialog: false,\n      articleToDelete: '',\n      dialog: {\n        title: '',\n        description: '',\n        success: '',\n        error: ''\n      },\n      action: function action() {}\n    };\n\n    _this.handleClose = function (deleteArticle) {\n      _this.setState({\n        openDialog: false\n      });\n    };\n\n    _this.handleDialog = function (articleToDelete, action, dialog) {\n      _this.setState({\n        articleToDelete: articleToDelete,\n        openDialog: true,\n        action: action,\n        dialog: dialog\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(RemoveArticle, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var chapter = this.props.chapter;\n      var _this$state = this.state,\n          openDialog = _this$state.openDialog,\n          articleToDelete = _this$state.articleToDelete,\n          action = _this$state.action,\n          dialog = _this$state.dialog;\n      return React.createElement(Query, {\n        query: GET_ARTICLES_BY_CHAPTER,\n        variables: {\n          chapter: chapter\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, function (_ref) {\n        var data = _ref.data,\n            loading = _ref.loading,\n            error = _ref.error;\n        if (loading) return React.createElement(CircularProgress, {\n          className: \"Spinner\",\n          size: 50,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        });\n        if (error) return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Error\");\n        return React.createElement(\"div\", {\n          className: \"RemoveArticle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(DialogPopin, {\n          dialog: dialog,\n          openDialog: openDialog,\n          handleClose: _this2.handleClose,\n          action: action,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }), React.createElement(SnackBarSuccess, {\n          text: SUCCESS_TEXT,\n          open: _this2.state.openSuccessSnackBar,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }), React.createElement(SnackBarError, {\n          text: ERROR_TEXT,\n          open: _this2.state.openErrorSnackBar,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"RemoveArticle__Articles\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, data.getArticlesByChapter.map(function (article) {\n          return React.createElement(\"div\", {\n            className: \"RemoveArticle__Articles__Article\",\n            key: article._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(Mutation, {\n            mutation: DELETE_ARTICLE,\n            variables: {\n              _id: articleToDelete\n            },\n            update: function update(cache, _ref2) {\n              var data = _ref2.data;\n              var articlesByChapter = cache.readQuery({\n                query: GET_ARTICLES_BY_CHAPTER,\n                variables: {\n                  chapter: chapter\n                }\n              }).getArticlesByChapter;\n              cache.writeQuery({\n                query: GET_ARTICLES_BY_CHAPTER,\n                variables: {\n                  chapter: chapter\n                },\n                data: {\n                  getArticlesByChapter: articlesByChapter.map(function (article) {\n                    return article._id !== data.deleteArticle._id && article;\n                  }).filter(function (article) {\n                    return article !== false;\n                  })\n                }\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, function (deleteArticle) {\n            var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return React.createElement(Card, {\n              className: \"RemoveArticle__Articles__Article__Card\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 114\n              },\n              __self: this\n            }, React.createElement(CardMedia, {\n              className: \"RemoveArticle__Articles__Article__Card__Image\",\n              image: require(\"../../assets/images/\".concat(article.image)),\n              title: \"Contemplative Reptile\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 115\n              },\n              __self: this\n            }), React.createElement(CardContent, {\n              className: \"RemoveArticle__Articles__Article__Card__Content\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 122\n              },\n              __self: this\n            }, React.createElement(Typography, {\n              gutterBottom: true,\n              variant: \"headline\",\n              component: \"h2\",\n              className: \"RemoveArticle__Articles__Article__Card__Content__Title\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 123\n              },\n              __self: this\n            }, article.title), React.createElement(Typography, {\n              component: \"p\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 131\n              },\n              __self: this\n            }, article.description)), React.createElement(CardActions, {\n              className: \"RemoveArticle__Articles__Article__Card__Action\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 135\n              },\n              __self: this\n            }, React.createElement(Button, {\n              size: \"small\",\n              onClick: function onClick() {\n                return _this2.handleDialog(article._id, deleteArticle, removeArticleDialog);\n              },\n              color: \"primary\",\n              variant: \"outlined\",\n              className: \"RemoveArticle__Articles__Article__Card__Action__Button\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 136\n              },\n              __self: this\n            }, attrs.loading ? 'deleting...' : 'DELETE')));\n          }));\n        }), React.createElement(NavLink, {\n          className: \"HandleArticle__Chapter__AddArticle\",\n          to: \"/admin/backoffice/addArticle/chapter/\".concat(chapter),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          component: \"h1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"ADD AN ARTICLE\"), React.createElement(Button, {\n          className: \"HandleArticle__Chapter__AddArticle__Icon\",\n          variant: \"fab\",\n          color: \"primary\",\n          \"aria-label\": \"Add\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, React.createElement(AddIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        })))));\n      });\n    }\n  }]);\n\n  return RemoveArticle;\n}(Component);\n\nexport default withMobileDialog()(RemoveArticle);","map":{"version":3,"sources":["/home/poncho/Documents/PROJET/moonboard-project/client/src/components/Admin/RemoveArticle.js"],"names":["React","Component","NavLink","Card","CardActions","CardContent","CardMedia","Button","Typography","CircularProgress","withMobileDialog","AddIcon","SnackBarSuccess","SnackBarError","DialogPopin","Query","Mutation","DELETE_ARTICLE","GET_ARTICLES_BY_CHAPTER","ERROR_TEXT","SUCCESS_TEXT","removeArticleDialog","title","description","error","success","RemoveArticle","state","openSuccessSnackBar","openErrorSnackBar","openDialog","articleToDelete","dialog","action","handleClose","deleteArticle","setState","handleDialog","chapter","props","data","loading","getArticlesByChapter","map","article","_id","cache","articlesByChapter","readQuery","query","variables","writeQuery","filter","attrs","require","image"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport SnackBarSuccess from '../SnackBar/SnackBarSuccess';\nimport SnackBarError from '../SnackBar/SnackBarError';\nimport DialogPopin from '../Dialog/Dialog';\n\nimport { Query, Mutation } from 'react-apollo';\nimport { DELETE_ARTICLE, GET_ARTICLES_BY_CHAPTER } from '../../queries';\n\nconst ERROR_TEXT = 'Sorry, deleting your article did not work...';\nconst SUCCESS_TEXT = 'Great, your article is now removed!';\n\nconst removeArticleDialog = {\n  title: 'Remove Article',\n  description: 'Are you sure you want to delete this article?',\n  error: 'Sorry, deleting your article did not work...',\n  success: 'Great, your article is now removed!'\n};\n\nclass RemoveArticle extends Component {\n  state = {\n    openSuccessSnackBar: false,\n    openErrorSnackBar: false,\n    openDialog: false,\n    articleToDelete: '',\n    dialog: {\n      title: '',\n      description: '',\n      success: '',\n      error: ''\n    },\n    action: () => {}\n  };\n\n  handleClose = deleteArticle => {\n    this.setState({ openDialog: false });\n  };\n\n  handleDialog = (articleToDelete, action, dialog) => {\n    this.setState({\n      articleToDelete: articleToDelete,\n      openDialog: true,\n      action: action,\n      dialog: dialog\n    });\n  };\n\n  render() {\n    const { chapter } = this.props;\n    const { openDialog, articleToDelete, action, dialog } = this.state;\n    return (\n      <Query query={GET_ARTICLES_BY_CHAPTER} variables={{ chapter }}>\n        {({ data, loading, error }) => {\n          if (loading)\n            return <CircularProgress className=\"Spinner\" size={50} />;\n          if (error) return <div>Error</div>;\n          return (\n            <div className=\"RemoveArticle\">\n              <DialogPopin\n                dialog={dialog}\n                openDialog={openDialog}\n                handleClose={this.handleClose}\n                action={action}\n              />\n              <SnackBarSuccess\n                text={SUCCESS_TEXT}\n                open={this.state.openSuccessSnackBar}\n              />\n              <SnackBarError\n                text={ERROR_TEXT}\n                open={this.state.openErrorSnackBar}\n              />\n              <div className=\"RemoveArticle__Articles\">\n                {data.getArticlesByChapter.map(article => (\n                  <div\n                    className=\"RemoveArticle__Articles__Article\"\n                    key={article._id}\n                  >\n                    <Mutation\n                      mutation={DELETE_ARTICLE}\n                      variables={{ _id: articleToDelete }}\n                      update={(cache, { data }) => {\n                        const articlesByChapter = cache.readQuery({\n                          query: GET_ARTICLES_BY_CHAPTER,\n                          variables: { chapter }\n                        }).getArticlesByChapter;\n                        cache.writeQuery({\n                          query: GET_ARTICLES_BY_CHAPTER,\n                          variables: { chapter },\n                          data: {\n                            getArticlesByChapter: articlesByChapter\n                              .map(\n                                article =>\n                                  article._id !== data.deleteArticle._id &&\n                                  article\n                              )\n                              .filter(article => article !== false)\n                          }\n                        });\n                      }}\n                    >\n                      {(deleteArticle, attrs = {}) => {\n                        return (\n                          <Card className=\"RemoveArticle__Articles__Article__Card\">\n                            <CardMedia\n                              className=\"RemoveArticle__Articles__Article__Card__Image\"\n                              image={require(`../../assets/images/${\n                                article.image\n                              }`)}\n                              title=\"Contemplative Reptile\"\n                            />\n                            <CardContent className=\"RemoveArticle__Articles__Article__Card__Content\">\n                              <Typography\n                                gutterBottom\n                                variant=\"headline\"\n                                component=\"h2\"\n                                className=\"RemoveArticle__Articles__Article__Card__Content__Title\"\n                              >\n                                {article.title}\n                              </Typography>\n                              <Typography component=\"p\">\n                                {article.description}\n                              </Typography>\n                            </CardContent>\n                            <CardActions className=\"RemoveArticle__Articles__Article__Card__Action\">\n                              <Button\n                                size=\"small\"\n                                onClick={() =>\n                                  this.handleDialog(\n                                    article._id,\n                                    deleteArticle,\n                                    removeArticleDialog\n                                  )\n                                }\n                                color=\"primary\"\n                                variant=\"outlined\"\n                                className=\"RemoveArticle__Articles__Article__Card__Action__Button\"\n                              >\n                                {attrs.loading ? 'deleting...' : 'DELETE'}\n                              </Button>\n                            </CardActions>\n                          </Card>\n                        );\n                      }}\n                    </Mutation>\n                  </div>\n                ))}\n                <NavLink\n                  className=\"HandleArticle__Chapter__AddArticle\"\n                  to={`/admin/backoffice/addArticle/chapter/${chapter}`}\n                >\n                  <Typography component=\"h1\">ADD AN ARTICLE</Typography>\n                  <Button\n                    className=\"HandleArticle__Chapter__AddArticle__Icon\"\n                    variant=\"fab\"\n                    color=\"primary\"\n                    aria-label=\"Add\"\n                  >\n                    <AddIcon />\n                  </Button>\n                </NavLink>\n              </div>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n\nexport default withMobileDialog()(RemoveArticle);\n"]},"metadata":{},"sourceType":"module"}